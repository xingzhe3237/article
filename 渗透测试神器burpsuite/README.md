# 渗透测试神器burpsuite

[2018-09-26](/2018/09/26/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E7%A5%9E%E5%99%A8burpsuite/)

burpsuite用了两年了，问了一下身边的同学有的还不知道各个模块有哪些功能，这里就详细的给大家介绍一下各个模块的功能。

burpsuite可以说是渗透测试中的神兵利器，我当初入坑的第一节就是学的burpsuite，在渗透测试中可以说是必不可少的一部分，这里会从各个模块来介绍burpsuite的几大功能。有什么错误也希望走过路过的大佬们指出，由于是说基本用法所以比较基础，各种大佬大神可以绕过啦哈哈。

### [](#1-target "1. target")1\. target

Burp的Target组件主要由站点地图、目标域组成，他们帮助渗透测试人员更好地了解目标应用的整体状况、当前的工作涉及哪些目标域、分析可能存在的攻击面等信息，Target会显示出访问过的、以及页面中有的链接URL。黑色的说明是有真正发生过通信过程的，灰色的只是爬网爬出的，没有真实访问。  
下面我们就分别来看看Burp Target的两个组成部分。

SiteMap会在目标中以树形和表形式显示，并且还可以查看完整的请求和响应。可以看到该页面下的地址，目录，文件和参数化请求的URL，还可以扩大有趣的分支看到进一步的细节。如果选择树的一个或多个部分，在所有子分支所选择的项目都显示在表视图。  
![](1.png)

这样看起来site map是不是很乱，可以右击add to scope，然后点击Filter勾选Show only in-scope items  
![](2.png)
![](3.jpg)

此时你再回头看Site map就只有百度一个地址了，这里filter可以过滤一些参数，show all显示全部，hide隐藏所有，如果勾选了表示不过滤。  
![](5.png)

### [](#2-Proxy "2. Proxy")2\. Proxy

这个可能我们用的就比较多了，一般在渗透网站的时候会用它来截取流量包，可以看到客户端发送到服务器的各种信息，也可以直接在里面修改我们的请求头。当然用的时候需要在浏览器上开一个代理，代理的IP地址和端口号需要和Burpsuite里面的保持一致

其中的功能

```
Intercept – 用于显示和修改Http请求和相应
    forward：当你编辑之后，发送信息到服务器或浏览器
    Drop：当你不想发送这次信息可以点击drop放弃这个信息
    interceptionis on/off: 这个按钮用来打开和关闭所有拦截
    Action：说明一个菜单可用的动作行为操作可以有哪些操作功能
HTTP history – 记录设置代理后浏览器访问的页面数据包，详细记录数据包的host、method、url、status、extension等等,当我们选中某个请求时，可以看他的请求包信息，同样也可查看他的响应包信息
options – 该选项主要用于设置代理监听、请求和响应，拦截反应等等。
    license server:用于设置代理的IP地址和端口号，需要和浏览器设置的保持一致
    Intercept Client Requests – 配置拦截规则，设置拦截数据包的匹配规则。规则可以是域名、IP、协议、HTTP方法、URL等等
    Intercept Server Responses – 配置拦截规则，设置拦截的匹配规则，基于服务器端的返回情况进行匹配
```

### [](#3-Spider "3. Spider")3\. Spider

BurpSuite的spider功能是用来抓取Web应用程序的链接和内容等。通过跟踪HTML和JavaScript以及提交的表单中的超链接来映射目标应用程序，它还使用了一些其他的线索，如目录列表，资源类型的注释，以及robots.txt 文件。结果会在站点地图中以树和表的形式显示出来，提供了一个清楚并非常详细的目标应用程序视图。  
我的理解是Spider把与我们输入的网页相关的网页都找出来了。那如何使用呢？  
比如拿_[www.baidu.com](http://www.baidu.com)_为例子，右键点击，选择send to spider。  
然后我们回到target标签，我们看到关于[www.baidu.com的一些目录和页面被我们扫描出来了。](http://www.baidu.com的一些目录和页面被我们扫描出来了。)  
![](4.png)

### [](#4-Scanner "4. Scanner")4\. Scanner

Burp Scanner 是一个进行自动发现 web 应用程序的安全漏洞的工具。它是为渗透测试人员设计的，并且它和你现有的手动执行进行的 web 应用程序半自动渗透测试的技术方法很相似。我们可以使用Burp Scanner代替我们手工去对系统进行普通漏洞类型的渗透测试，从而能使得我们把更多的精力放在那些必须要人工去验证的漏洞上。

使用的大多数的 web 扫描器都是单独运行的，比如你提供了一个开始的地址并开始扫描，然后注视着进度条的更新直到扫描结束，最后产生一个报告。Burp Scanner 和这完全不同，在攻击一个应用程序时它和你执行的操作紧紧的结合在一起。让你细微控制着每一个扫描的请求，并直接反馈回结果。

用法：  
在Target右键可以选择对站点主动扫描还是被动扫描

![](1.jpg)

然后开始设置扫描规则

![](2.jpg)

Scanner主页面，不希望继续扫描的url可以在Scan queue对目标右键Cancel取消。

![](3.jpg)

然后扫描结果如下：

![](4.png)

### [](#5-Intruder "5. Intruder")5\. Intruder

暴力破解模块，这个模块用的也是比较多的，暴力破解大家应该都知道，假如我要登陆一个网站，知道用户名却不知道密码，而这个网站也没有设置验证码，这时候就可以利用暴力破解从字典里一个一个试，把密码试出来。  
首先利用proxy抓包，然后右键点击，选择send to intruder

![](8.png)

然后我们打开intruder模块，这个模块下总共有4个选项

Target

![](9.png)

target可以设置攻击目标的信息，设置Host,端口，是否使用https

Positions

Positions里面就是我们发送的包的内容

![](5.jpg)

定义的变量就是我们要暴力破解的内容

然后添加进去我们暴力破解需要用的字典，burpsuite里面有自带的字典，当然你也可以自己导入字典，这个在Payloads里面。

![](11.png)

然后可以在options里面选择线程之类的设置

设置好了之后左上角有个Intruder选项，选项下有个start attack

![](6.jpg)

开始破解之后可以看到burpsuite对网站访问的记录，请求头和响应头都可以看到，基本上返回登陆失败的字节大小都是一样的，而登陆成功的字节是不一样的，所以我们可以看一下每次访问的字节大小，如果和别的不一样，有可能就是登陆成功了，我们就可以看一看它的请求头里的密码。

### [](#6-Repeater "6. Repeater")6\. Repeater

顾名思义，Repeater就是重复的意思，当我们需要修改包的信息但是不太清楚需要改成什么，这时候我们可能要一次一次的尝试，而每次尝试都需要重新抓一下包的话显然太麻烦。这时候我们就有了Repeater模块，左边是提交的信息，右边是回应的信息，当我们每次在左边修改了包的信息后，就可以点击GO按钮，这时burpsuite就会对网站发起请求，当我们需要再次修改就可以直接在左边修改然后点击GO。

![](12.png)

### [](#7-Decoder "7. Decoder")7\. Decoder

Decoder模块是用来对数据进行加密解密的，当我们抓包遇到了一串密文，可以选中这串秘闻，然后直接右键选择send to decoder

![](20.png)

然后进入decoder模块，在里面可以看到各种编码方式，可以对数据进行加密解密。

![](21.png)

感谢大家的阅读，本来想全部写完的，但是写到后边发现有点多还是分为上下篇吧。上篇的内容就先写到这里，有什么不对的地方欢迎各位指教，之后会写出下篇。
